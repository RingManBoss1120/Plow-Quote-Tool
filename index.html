<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MN Plowing Quote Tool</title>

<link rel="icon" href="icons/icon-192-v2.png">
<link rel="apple-touch-icon" href="icons/icon-180-v2.png">

<style>
*{box-sizing:border-box;}

:root{
  --bg0:#05070c;         /* near-black */
  --bg1:#070b14;         /* deep navy */
  --cardA:#0a1a35;       /* blue card base */
  --cardB:#07162e;       /* blue card depth */
  --border:rgba(255,255,255,.10);
  --text:#eaf2ff;
  --muted:rgba(234,242,255,.70);
  --primary:#2b7bff;     /* electric blue accent */
  --danger:#ef4444;
}

body{
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  margin:0;
  padding:20px;
  color:var(--text);

  /* Black background + blue glow like your example */
  background:
    radial-gradient(900px 500px at 50% -10%, rgba(43,123,255,.35), transparent 55%),
    radial-gradient(700px 420px at 10% 30%, rgba(43,123,255,.18), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
}
  
.wrap{
  max-width:760px;
  margin:0 auto;
}

.sectionTitle{
  margin:20px 6px 10px;
  color:var(--muted);
  font-weight:900;
  letter-spacing:1.2px;
  text-transform:uppercase;
  font-size:12px;
}

/* STEP 3A — Customer grid */
.customerGrid{
  display:grid;
  grid-template-columns: 1fr;
  gap:14px;
}

@media (min-width: 900px){
  .customerGrid{
    grid-template-columns: 1fr 1fr;
    gap:18px;
  }
}

.customerGrid .span2{
  grid-column: 1 / -1;
}
  
.card{
  border-radius:20px;
  padding:18px;
  margin-bottom:18px;

  /* Blue floating card look */
  background:linear-gradient(180deg, rgba(10,26,53,.92), rgba(7,22,46,.92));
  border:1px solid var(--border);

  /* Depth + glow */
  box-shadow:
    0 18px 50px rgba(0,0,0,.55),
    0 0 0 1px rgba(43,123,255,.08) inset,
    0 10px 22px rgba(43,123,255,.12);
  backdrop-filter: blur(8px);
}

label{
  font-weight:700;
  display:block;
  margin-bottom:8px;
  color:var(--text);
  letter-spacing:.2px;
}

input,select,textarea{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:14px;
  margin-bottom:12px;

  background:rgba(2,8,18,.55);
  border:1px solid rgba(255,255,255,.10);
  color:var(--text);
}

input::placeholder,
textarea::placeholder{
  color:rgba(234,242,255,.45);
}

input:focus,
select:focus,
textarea:focus{
  outline:none;
  border-color:rgba(43,123,255,.85);
  box-shadow:0 0 0 3px rgba(43,123,255,.22);
}

select{
  appearance:none;
  background-color: rgba(2,8,18,.55); /* add this */
  background-image:
    linear-gradient(45deg, transparent 50%, rgba(234,242,255,.75) 50%),
    linear-gradient(135deg, rgba(234,242,255,.75) 50%, transparent 50%);
  background-position: calc(100% - 18px) 50%, calc(100% - 12px) 50%;
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 40px;
}

textarea{
  resize:none;
}

button{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:16px;
  border:none;
  font-weight:900;
  letter-spacing:.4px;
  color:#fff;

  background:linear-gradient(135deg, rgba(43,123,255,1), rgba(31,95,191,1));
  box-shadow:
    0 12px 26px rgba(43,123,255,.35),
    0 2px 0 rgba(255,255,255,.15) inset;
}

button:active{
  transform:scale(.985);
}

button.secondary{
  background:rgba(148,163,184,.22);
  color:rgba(234,242,255,.85);
  box-shadow:none;
  border:1px solid rgba(255,255,255,.12);
}

.row{
  display:flex;
  justify-content:space-between;
  font-size:18px;
  padding:6px 0;
  color:rgba(234,242,255,.90);
}

.divider{
  height:1px;
  background:rgba(255,255,255,.10);
  margin:12px 0;
}

.totalRow{
  font-size:26px;
  font-weight:950;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding-top:8px;
}

#totalAmount{
  color:var(--primary);
  text-shadow:
    0 0 18px rgba(43,123,255,.55),
    0 0 32px rgba(43,123,255,.25);
}

.tagline{
  margin-top:10px;
  font-weight:950;
  text-transform:uppercase;
  color:rgba(234,242,255,.95);
  text-shadow:0 0 22px rgba(43,123,255,.22);

  /* keep it on ONE line, but make it auto-fit phones */
  white-space:nowrap;
  padding:0 10px;
  max-width:100%;

  /* this is the real fix: responsive sizing so it fits */
  font-size:clamp(18px, 4.8vw, 28px);
  letter-spacing:clamp(.5px, .8vw, 2px);
  line-height:1.1;
}
/* STEP 3A — 2-column customer grid (desktop), 1-column (phone) */
.customerGrid{
  display:grid;
  grid-template-columns: 1fr;
  gap:12px 14px;
}

@media (min-width: 900px){
  .customerGrid{
    grid-template-columns: 1fr 1fr;
  }
}

/* Make specific items span full width */
.customerGrid .span2{
  grid-column: 1 / -1;
}
</style>
</head>

<body>
<div class="wrap">
<!-- LOGO -->
<div class="card" style="
  text-align:center;
  padding:20px;
  background:linear-gradient(135deg,#0b1f43,#07162e);
  overflow:hidden;
">
  <img src="MN%20Plowing%20Logo%20no%20back.png"
       style="max-width:320px;width:100%;filter:drop-shadow(0 10px 18px rgba(0,0,0,.65));">
  <div class="tagline">"THE BLIZZARD BUSTERS"</div>
</div>

<!-- CUSTOMER -->
<div class="sectionTitle">Customer</div>
<div class="card">
  <div class="customerGrid">

    <label>Customer Last Name</label>
    <input id="lastName" autocomplete="family-name">

    <label>Customer First Name</label>
    <input id="firstName" autocomplete="given-name">

    <label>Name of Business</label>
    <input id="businessName" placeholder="N/A">

    <label>Customer Email</label>
    <input id="customerEmail" type="email" autocomplete="email">

    <label>Customer Phone</label>
    <input id="customerPhone" type="tel" autocomplete="off" inputmode="tel">

    <label>Service Street Address</label>
    <input id="street" autocomplete="street-address">

    <label>City</label>
    <input id="city" autocomplete="address-level2">

    <label>State</label>
    <input id="state" autocomplete="address-level1">

    <label>Zip Code</label>
    <input id="zip" inputmode="numeric" autocomplete="postal-code">

    <label class="span2">Notes</label>
    <textarea class="span2" id="notes" rows="4" placeholder="Notes (gate code, special instructions, pricing notes, follow-up, etc.)"></textarea>

  </div>
</div>

<!-- SERVICE -->
<div class="sectionTitle">Type of Service</div>  
<div class="card">
  <label>Service</label>
  <select id="service">
    <option value="both">Driveway + Sidewalk</option>
    <option value="driveway">Driveway Only</option>
    <option value="sidewalk">Sidewalk Only</option>
  </select>
</div>

<!-- DRIVEWAY -->
<div class="sectionTitle">Driveway</div>  
<div class="card">
  <label>Driveway Minutes</label>
  <input id="driveMinutes" type="number">

  <label>Driveway $ / Hour</label>
  <input id="driveRate" type="number" value="400">
</div>

<!-- SIDEWALK -->
<div class="sectionTitle">Sidewalk</div>  
<div class="card">
  <label>Sidewalk Minutes</label>
  <input id="sideMinutes" type="number">

  <label>Sidewalk $ / Minute</label>
  <select id="sideRate">
    <option value="4">$4</option>
    <option value="5">$5</option>
    <option value="6">$6</option>
    <option value="7">$7</option>
    <option value="8">$8</option>
  </select>
</div>

<!-- SALTING -->
<div class="sectionTitle">Salting Services</div>
<div class="card">
  <label>Salting</label>
<div class="moneyInput">
  <span class="prefix">$</span>
  <input id="saltAmount" placeholder="N/A" inputmode="decimal">
</div> 

<!-- PRICING -->
<div class="sectionTitle">Pricing</div>
<div class="card">
  <div class="row" id="driveLine">
    <span>Driveway</span>
    <span id="drivePrice">$0.00</span>
  </div>

  <div class="row" id="sideLine">
    <span>Sidewalk</span>
    <span id="sidePrice">$0.00</span>
  </div>

<div class="row" id="saltLine">
  <span>Salting</span>
  <span id="saltPrice">N/A</span>
</div>
  
  <div class="divider"></div>

  <div class="totalRow">
    <span>Total</span>
    <span id="totalAmount">$0.00</span>
  </div>
</div>

<!-- BUTTONS -->
<div class="sectionTitle">Actions</div>  
<div class="card">
 <button onclick="emailQuote()">Email Quote</button>
  <button class="secondary" onclick="clearAll()">Clear</button>
</div>

<script>
const service = document.getElementById("service");
const driveMinutes = document.getElementById("driveMinutes");
const driveRate = document.getElementById("driveRate");
const sideMinutes = document.getElementById("sideMinutes");
const sideRate = document.getElementById("sideRate");

const driveLine = document.getElementById("driveLine");
const sideLine = document.getElementById("sideLine");
const drivePrice = document.getElementById("drivePrice");
const sidePrice = document.getElementById("sidePrice");
const saltAmount = document.getElementById("saltAmount");
const saltPrice = document.getElementById("saltPrice");
const totalAmount = document.getElementById("totalAmount");

// New customer/address fields
const lastName = document.getElementById("lastName");
const firstName = document.getElementById("firstName");
const businessName = document.getElementById("businessName");  
const customerEmail = document.getElementById("customerEmail");
const customerPhone = document.getElementById("customerPhone");
const street = document.getElementById("street");
const city = document.getElementById("city");
const state = document.getElementById("state");
const zip = document.getElementById("zip");
const notes = document.getElementById("notes");
const saltAmount = document.getElementById("saltAmount");
  
function money(n){
  return "$" + (n || 0).toFixed(2);
}
function formatDollarOrNA(val){
  const n = parseFloat(val);
  return isNaN(n) ? "N/A" : "$" + n.toFixed(2);
}
  
function calc(){
  const dMin = Number(driveMinutes.value||0);
  const dRate = Number(driveRate.value||400);
  const sMin = Number(sideMinutes.value||0);
  const sRate = Number(sideRate.value||0);

  const dCost = (dRate/60)*dMin;
  const sCost = sMin*sRate;

  let total = 0;
  let salt = 0;

if (saltAmount.value && saltAmount.value !== "N/A") {
  salt = Number(saltAmount.value) || 0;
  saltPrice.textContent = money(salt);
  saltLine.style.display = "flex";
} else {
  saltPrice.textContent = "N/A";
  saltLine.style.display = "flex";
}
  if(service.value==="both"){
    total = dCost+sCost+salt;
    driveLine.style.display="flex";
    sideLine.style.display="flex";
  }
  if(service.value==="driveway"){
    total = dCost+salt;
    driveLine.style.display="flex";
    sideLine.style.display="none";
  }
  if(service.value==="sidewalk"){
    total = sCost+salt;
    driveLine.style.display="none";
    sideLine.style.display="flex";
  }

  drivePrice.textContent = money(dCost);
  sidePrice.textContent = money(sCost);
  totalAmount.textContent = money(total);
}

[service,driveMinutes,driveRate,sideMinutes,sideRate].forEach(el=>{
  el.addEventListener("input",calc);
  el.addEventListener("change",calc);
});

function clearAll(){
  lastName.value = "";
  firstName.value = "";
  businessName.value = "";
  customerEmail.value = "";

  // Clear phone (Safari sometimes auto-refills; this prevents it)
  customerPhone.value = "";
  customerPhone.blur();
  setTimeout(() => { customerPhone.value = ""; }, 0);

  street.value = "";
  city.value = "";
  state.value = "";
  zip.value = "";
  notes.value = "";
  saltAmount.value = "";
  driveMinutes.value = "";
  sideMinutes.value = "";
  calc();
}

function formatCustomer(){
  const ln = (lastName.value || "").trim();
  const fn = (firstName.value || "").trim();
  if(!ln && !fn) return "";
  if(ln && fn) return `${ln}, ${fn}`;
  return ln || fn;
}

function formatAddress(){
  const st = (street.value || "").trim();
  const c = (city.value || "").trim();
  const s = (state.value || "").trim();
  const z = (zip.value || "").trim();

  const line1 = st;
  const line2 = [c, s].filter(Boolean).join(", ") + (z ? ` ${z}` : "");
  return [line1, line2].filter(Boolean).join("\n");
}

function emailQuote(){
  const subject = `MN Plowing Quote – ${formatCustomer()}`;

const body =
`MN PLOWING
The Blizzard Busters

MN Plowing Quote
Customer: ${formatCustomer()}
Business: ${(businessName.value || "").trim() || "N/A"}
Email: ${customerEmail.value || "—"}
Phone: ${customerPhone.value || "—"}

Address:
${formatAddress()}

Notes:
${(notes.value || "").trim() || "—"}

Driveway: ${drivePrice.textContent}
Sidewalk: ${sidePrice.textContent}
Salting: ${formatDollarOrNA(saltAmount.value)}
Total: ${totalAmount.textContent}`;

  const mailto =
    "mailto:info@mnplowing.com" +
    "?subject=" + encodeURIComponent(subject) +
    "&body=" + encodeURIComponent(body);

  window.location.href = mailto;
}



calc();
</script>

</div>  
</body>
</html>
